{% load static wagtailcore_tags wagtailuserbar account socialaccount tailwind_tags %}
<!DOCTYPE html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8" />
        <title>
            {% block title %}
                {% if page.seo_title %}{{ page.seo_title }}{% else %}{{ page.title }}{% endif %}
            {% endblock %}
            {% block title_suffix %}
                {% wagtail_site as current_site %}
                {% if current_site and current_site.site_name %}- {{ current_site.site_name }}{% endif %}
            {% endblock %}
        </title>
        <meta name="description" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        {# Global stylesheets #}
        {% tailwind_css %}

        {% block extra_css %}
            {# Override this in templates to add extra stylesheets #}
        {% endblock %}
    </head>

    <body class="bg-bg-default min-h-screen m-0 flex flex-col bg-repeated-square gap-y-12 {% block body_class %}{% endblock %}">
        {% wagtailuserbar %}

        {% block header %}
            {% include nav_tmpl|default:'navbar.html' %}
        {% endblock %}
        {% block content %}{% endblock %}

        {% block footer %}
            {% include 'footer.html' %}
        {% endblock %}
        {# Global javascript #}
        <script type="text/javascript" src="{% static 'js/bfportal.js' %}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha512-z4OUqw38qNLpn1libAN9BsoDx6nbNFio5lA6CuTp9NlK83b89hgyCVq+N5FdBJptINztxn1Z3SaKSKUS5UP60Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script type="application/javascript" src="https://unpkg.com/@popperjs/core@2" charset="utf-8"></script>
        <script type="text/javascript">
          var tooltipTriggerList = [].slice.call(
            document.querySelectorAll('[data-bs-toggle="tooltip"]')
          );
          var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new Tooltip(tooltipTriggerEl);
          });
        </script>
        <script>
                $('#filters_button').click(function (e){
                    console.log("DO IT!!!");
                    const filters = document.getElementById('filters');
                    if (filters.style.opacity !== "" && filters.style.opacity > 0) {
                        anime({
                            targets: '#filters',
                            left: '80%',
                            opacity: '0',
                            easing: 'easeOutExpo',
                            begin: function (){
                              document.getElementById("filter-plus-item").textContent = '⊕';
                            },
                            complete: function () {
                                filters.classList.add('invisible')
                                filters.style.left = "0%"
                            }
                        });
                    } else {
                        filters.classList.remove('invisible');
                        anime({
                            targets: '#filters',
                            left: '50%',
                            translateX: '-50%',
                            opacity: '100%',
                            easing: 'easeOutQuint',
                            begin: function (){
                              document.getElementById("filter-plus-item").textContent = '⊗';
                            },
                        });
                    }
                })
                function showTags() {
                    {#todo: Complete ShowTags#}
                    console.log("Show tags");
                }
                function showCategories() {
                    {#todo: Complete showCategories#}
                    console.log("Show Categories");
                }
        </script>
        {% block extra_js %}
            {# Override this in templates to add extra javascript #}
        {% endblock %}
    </body>
</html>
